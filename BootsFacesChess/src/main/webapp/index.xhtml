<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:b="http://bootsfaces.net/ui"
  xmlns:f="http://java.sun.com/jsf/core">

<h:head>
  <style>
.nav-tabs>li.active>a, .nav-tabs>li.active>a:hover, .nav-tabs>li.active>a:focus
	{
	background-color: #ddd !important;
}
</style>
</h:head>
<h:body style="padding-top:75px">
  <b:container id="menu">
    <b:navBar brand="BootsFaces plays chess!" inverse="true"
      brandHref="#" fixed="top">
      <b:navbarLinks>
        <b:navLink value="New game (white)" iconAwesome="home" href="#"></b:navLink>
        <b:navLink value="New game (black)" icon="cross" href="#"></b:navLink>
        <b:navLink value="Flip sides" href="#"></b:navLink>
        <b:navLink value="Quit" href="#"></b:navLink>
      </b:navbarLinks>
    </b:navBar>
  </b:container>

  <b:container id="content">
    <b:messages id="messages" showDetail="false" showSummary="false" />
    <h:form id="form">
      <b:row>
        <b:column span="7">
          <b:panel
            title="#{board.startOpponentsMove?'Calculating next move...':'Waiting for your move'}"
            id="board" contentStyle="height:600px">
            <ui:repeat id="rows" var="row" value="#{board.rows}"
              varStatus="rowStatus">
              <div style="width: 560px; height: 70px; overflow: auto;">
                <ui:repeat id="fields" var="image" value="#{row.images}"
                  varStatus="columnStatus">

                  <b:image value="#{image}"
                    style="width:70px;height:70px;;display:inline-block;#{board.getOpacityAndBorder(rowStatus.index,columnStatus.index)}"
                    onclick="ajax:board.onclick(rowStatus.index,columnStatus.index)"
                    oncomplete="document.getElementById('form:opponent').click()"
                    update="@form :messages" />
                </ui:repeat>
              </div>
            </ui:repeat>
          </b:panel>
        </b:column>
        <b:column span="5">
          <b:panel title="History" contentStyle="height:250px">
          </b:panel>
          <b:panel title="Settings #{settings.economyMode?' (restricted to save CPU time)':''}" contentStyle="height:150px">
            <b:panelGrid colSpans="6,6">
              <h:outputText value="Look-ahead:" />
              <b:inputText value="#{settings.lookAhead}" />
              <h:outputText value="Calculation breadth:" />
              <b:inputText value="#{settings.movesToConsider}" />
              <h:outputText value="multithreading" />
              <b:selectBooleanCheckbox value="#{settings.multithreading}" />
            </b:panelGrid>
          </b:panel>

          <b:panel title="statistics" contentStyle="height:80px">
            <b:panelGrid colSpans="6,6">
              <h:outputText value="Elapsed time:" />
              <h:outputText value="#{board.elapsedTime}" />
              <h:outputText value="CPU time:" />
              <h:outputText value="#{board.cpuTime}" />
              <h:outputText value="evaluated moves:" />
              <h:outputText value="#{board.evaluatedMoves}" />
            </b:panelGrid>



          </b:panel>
        </b:column>
      </b:row>
      <b:commandButton value="computer's move" id="opponent"
        actionListener="#{board.opponentsMove}" ajax="true"
        update="@form" style="display:none" />
      <b:commandButton value="flip sides"
        actionListener="#{board.flipSides}" ajax="true" update="@form" />
    </h:form>
   </b:container>
</h:body>
</html>